{"ast":null,"code":"import axios from 'axios';\nimport jwt from 'jsonwebtoken';\nconst SERECT_KEY_TOKEN = 'reactJS-2105'; // key nay la ben backend se quy dinh\n// ho se cung cap cho ben phia frontend\n// key nay 2 ben can bao mat - khong de lo\n\nconst searchMovieByKeyword = async (key, page = 1) => {\n  const url = `https://api.themoviedb.org/3/search/movie?query=${key}&api_key=cfe422613b250f702980a3bbf9e90716&page=${page}`;\n  const response = await axios.get(url);\n  const result = response.status === 200 ? response.data : {};\n  return result;\n};\n\nconst getDataMovieById = async (id = 0) => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=0aecc06bb4fadb06b5f071fef0c2ce6d&language=en-US&append_to_response=videos,images&include_image_language=en,null`;\n  const response = await axios.get(url);\n  const result = response.status === 200 ? response.data : {};\n  return result;\n};\n\nconst checkLoginUser = (user, pass) => {\n  /*\n  -khi ma user gui username, mat khau len server(backend api)\n  -backend-api se kiem tra xem account co ton tai ko ?\n  -backend se tra ve thong tin cua user do duoi dang ma hoa token\n  -client-frontend se nhan dc token do - giai ma ra de co duoc cac thong tin cuua nguoi dang nhap\n  -giua backend va frontend can co co che ma hoa va giai ma chung\n  - su dung demo test: jsonwebtoken\n  */\n  // vi ko co api login tu backend - tu fix\n  let token = null;\n\n  if (user === 'admin' && pass === '123') {\n    // ma hoa thong tin thanh token tra ve\n    token = jwt.sign({\n      id: 1,\n      user: user,\n      fullname: 'nguyen thanh trieu',\n      email: 'trieunt@gmail.com',\n      phone: '0975091304',\n      address: 'Ha Noi',\n      pass: pass\n    }, SERECT_KEY_TOKEN);\n  }\n\n  return token;\n};\n\nexport const api = {\n  searchMovieByKeyword,\n  getDataMovieById,\n  checkLoginUser\n};","map":{"version":3,"sources":["D:/ReactJS/reactjsstart/my-app/src/movies/services/api.js"],"names":["axios","jwt","SERECT_KEY_TOKEN","searchMovieByKeyword","key","page","url","response","get","result","status","data","getDataMovieById","id","checkLoginUser","user","pass","token","sign","fullname","email","phone","address","api"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,MAAMC,gBAAgB,GAAG,cAAzB,C,CACA;AACA;AACA;;AAEA,MAAMC,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,IAAI,GAAG,CAAnB,KAAyB;AACpD,QAAMC,GAAG,GAAI,mDAAkDF,GAAI,kDAAiDC,IAAK,EAAzH;AACA,QAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUF,GAAV,CAAvB;AACA,QAAMG,MAAM,GAAGF,QAAQ,CAACG,MAAT,KAAoB,GAApB,GAA0BH,QAAQ,CAACI,IAAnC,GAA0C,EAAzD;AACA,SAAOF,MAAP;AACD,CALD;;AAOA,MAAMG,gBAAgB,GAAG,OAAOC,EAAE,GAAG,CAAZ,KAAkB;AACzC,QAAMP,GAAG,GAAI,sCAAqCO,EAAG,0HAArD;AACA,QAAMN,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUF,GAAV,CAAvB;AACA,QAAMG,MAAM,GAAGF,QAAQ,CAACG,MAAT,KAAoB,GAApB,GAA0BH,QAAQ,CAACI,IAAnC,GAA0C,EAAzD;AACA,SAAOF,MAAP;AACD,CALD;;AAOA,MAAMK,cAAc,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;AACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA,MAAIC,KAAK,GAAG,IAAZ;;AACA,MAAIF,IAAI,KAAK,OAAT,IAAoBC,IAAI,KAAK,KAAjC,EAAwC;AACtC;AACAC,IAAAA,KAAK,GAAGhB,GAAG,CAACiB,IAAJ,CACN;AACEL,MAAAA,EAAE,EAAE,CADN;AAEEE,MAAAA,IAAI,EAAEA,IAFR;AAGEI,MAAAA,QAAQ,EAAE,oBAHZ;AAIEC,MAAAA,KAAK,EAAE,mBAJT;AAKEC,MAAAA,KAAK,EAAE,YALT;AAMEC,MAAAA,OAAO,EAAE,QANX;AAOEN,MAAAA,IAAI,EAAEA;AAPR,KADM,EAUNd,gBAVM,CAAR;AAYD;;AACD,SAAOe,KAAP;AACD,CA3BD;;AA6BA,OAAO,MAAMM,GAAG,GAAG;AACjBpB,EAAAA,oBADiB;AAEjBS,EAAAA,gBAFiB;AAGjBE,EAAAA;AAHiB,CAAZ","sourcesContent":["import axios from 'axios';\nimport jwt from 'jsonwebtoken';\n\nconst SERECT_KEY_TOKEN = 'reactJS-2105';\n// key nay la ben backend se quy dinh\n// ho se cung cap cho ben phia frontend\n// key nay 2 ben can bao mat - khong de lo\n\nconst searchMovieByKeyword = async (key, page = 1) => {\n  const url = `https://api.themoviedb.org/3/search/movie?query=${key}&api_key=cfe422613b250f702980a3bbf9e90716&page=${page}`;\n  const response = await axios.get(url);\n  const result = response.status === 200 ? response.data : {};\n  return result;\n};\n\nconst getDataMovieById = async (id = 0) => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=0aecc06bb4fadb06b5f071fef0c2ce6d&language=en-US&append_to_response=videos,images&include_image_language=en,null`;\n  const response = await axios.get(url);\n  const result = response.status === 200 ? response.data : {};\n  return result;\n};\n\nconst checkLoginUser = (user, pass) => {\n  /*\n  -khi ma user gui username, mat khau len server(backend api)\n  -backend-api se kiem tra xem account co ton tai ko ?\n  -backend se tra ve thong tin cua user do duoi dang ma hoa token\n  -client-frontend se nhan dc token do - giai ma ra de co duoc cac thong tin cuua nguoi dang nhap\n  -giua backend va frontend can co co che ma hoa va giai ma chung\n  - su dung demo test: jsonwebtoken\n  */\n  // vi ko co api login tu backend - tu fix\n  let token = null;\n  if (user === 'admin' && pass === '123') {\n    // ma hoa thong tin thanh token tra ve\n    token = jwt.sign(\n      {\n        id: 1,\n        user: user,\n        fullname: 'nguyen thanh trieu',\n        email: 'trieunt@gmail.com',\n        phone: '0975091304',\n        address: 'Ha Noi',\n        pass: pass\n      },\n      SERECT_KEY_TOKEN\n    );\n  }\n  return token;\n};\n\nexport const api = {\n  searchMovieByKeyword,\n  getDataMovieById,\n  checkLoginUser\n};\n"]},"metadata":{},"sourceType":"module"}