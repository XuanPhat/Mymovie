{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactJS\\\\reactjsstart\\\\my-app\\\\src\\\\hooks\\\\movies\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport ListMovies from './components/ListMovies';\nimport { api } from './services/api';\nimport { helper } from './helpers/common';\nimport { Skeleton, Pagination, Row, Col } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [loading, setLoading] = React.useState(false);\n  const [movies, setListMovies] = React.useState({});\n  const [page, setPage] = React.useState(1);\n  const [totalresult, setTotalResult] = React.useState(0);\n  const [totalPage, setTotalPage] = React.useState(0); // trong class component,minh call api trong componentdidmount\n  // trong function thi dung useeffect\n\n  useEffect(() => {\n    const getDataApi = async () => {\n      // setstate\n      setLoading(true);\n      const data = await api.getDataMovies(page);\n\n      if (!helper.isEmptyObject(data)) {\n        if (data.hasOwnProperty('results')) {\n          setListMovies(data.results);\n        } // cap nhap state total page\n\n\n        if (data.hasOwnProperty('total_results')) {\n          setTotalResult(data.total_results);\n        } // cap nhap total page\n\n\n        if (data.hasOwnProperty('data_pages')) {\n          setTotalPage(data.total_pages);\n        }\n      }\n\n      setLoading(false);\n    };\n\n    getDataApi();\n  }, [page]); //  mang rong\n\n  const getDataByPage = p => {\n    if (p >= 1 && p <= totalPage) {\n      setPage(p);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading || helper.isEmptyObject(movies) ? /*#__PURE__*/_jsxDEV(Skeleton, {\n      active: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(ListMovies, {\n          movies: movies\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          style: {\n            marginBottom: '30px',\n            textAlign: 'center'\n          },\n          current: page,\n          total: totalresult,\n          pageSize: 20,\n          showSizeChanger: false // de ko hien thi dau trangs\n          ,\n          onChange: p => getDataByPage(p) // bam chuyen trang\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(App, \"3q5/0rtXHoFZTtXz2EDySmxbZC8=\");\n\n_c = App;\nexport default _c2 = /*#__PURE__*/React.memo(App);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/ReactJS/reactjsstart/my-app/src/hooks/movies/App.js"],"names":["React","useEffect","ListMovies","api","helper","Skeleton","Pagination","Row","Col","App","loading","setLoading","useState","movies","setListMovies","page","setPage","totalresult","setTotalResult","totalPage","setTotalPage","getDataApi","data","getDataMovies","isEmptyObject","hasOwnProperty","results","total_results","total_pages","getDataByPage","p","marginBottom","textAlign","memo"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport ListMovies from './components/ListMovies';\r\nimport { api } from './services/api';\r\nimport { helper } from './helpers/common';\r\nimport { Skeleton, Pagination, Row, Col } from 'antd';\r\n\r\nconst App = () => {\r\n\tconst [loading, setLoading] = React.useState(false);\r\n\tconst [movies, setListMovies] = React.useState({});\r\n\tconst [page, setPage] = React.useState(1);\r\n\tconst [totalresult, setTotalResult] = React.useState(0);\r\n\tconst [totalPage, setTotalPage] = React.useState(0);\r\n\t// trong class component,minh call api trong componentdidmount\r\n\t// trong function thi dung useeffect\r\n\tuseEffect(() => {\r\n\t\tconst getDataApi = async () => {\r\n\t\t\t// setstate\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst data = await api.getDataMovies(page);\r\n\t\t\tif (!helper.isEmptyObject(data)) {\r\n\t\t\t\tif (data.hasOwnProperty('results')) {\r\n\t\t\t\t\tsetListMovies(data.results);\r\n\t\t\t\t}\r\n\t\t\t\t// cap nhap state total page\r\n\t\t\t\tif (data.hasOwnProperty('total_results')) {\r\n\t\t\t\t\tsetTotalResult(data.total_results);\r\n\t\t\t\t}\r\n\t\t\t\t// cap nhap total page\r\n\t\t\t\tif (data.hasOwnProperty('data_pages')) {\r\n\t\t\t\t\tsetTotalPage(data.total_pages);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsetLoading(false);\r\n\t\t};\r\n\t\tgetDataApi();\r\n\t}, [page]); //  mang rong\r\n\r\n\tconst getDataByPage = p => {\r\n\t\tif (p >= 1 && p <= totalPage) {\r\n\t\t\tsetPage(p);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading || helper.isEmptyObject(movies) ? (\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t) : (\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<ListMovies movies={movies} />\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\tstyle={{ marginBottom: '30px', textAlign: 'center' }}\r\n\t\t\t\t\t\t\tcurrent={page}\r\n\t\t\t\t\t\t\ttotal={totalresult}\r\n\t\t\t\t\t\t\tpageSize={20}\r\n\t\t\t\t\t\t\tshowSizeChanger={false} // de ko hien thi dau trangs\r\n\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\tp => getDataByPage(p) // bam chuyen trang\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default React.memo(App);\r\n"]},"metadata":{},"sourceType":"module"}