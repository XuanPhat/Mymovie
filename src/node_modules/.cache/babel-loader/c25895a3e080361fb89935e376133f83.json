{"ast":null,"code":"module.exports = chain;\n\nvar bindActor = require(\"./bind-actor.js\");\n\nchain.first = {};\nchain.last = {};\n\nfunction chain(things, cb) {\n  var res = [];\n\n  (function LOOP(i, len) {\n    if (i >= len) return cb(null, res);\n    if (Array.isArray(things[i])) things[i] = bindActor.apply(null, things[i].map(function (i) {\n      return i === chain.first ? res[0] : i === chain.last ? res[res.length - 1] : i;\n    }));\n    if (!things[i]) return LOOP(i + 1, len);\n    things[i](function (er, data) {\n      if (er) return cb(er, res);\n      if (data !== undefined) res = res.concat(data);\n      LOOP(i + 1, len);\n    });\n  })(0, things.length);\n}","map":{"version":3,"sources":["D:/node_modules/npm/node_modules/slide/lib/chain.js"],"names":["module","exports","chain","bindActor","require","first","last","things","cb","res","LOOP","i","len","Array","isArray","apply","map","length","er","data","undefined","concat"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,KAAjB;;AACA,IAAIC,SAAS,GAAGC,OAAO,CAAC,iBAAD,CAAvB;;AACAF,KAAK,CAACG,KAAN,GAAc,EAAd;AAAmBH,KAAK,CAACI,IAAN,GAAa,EAAb;;AACnB,SAASJ,KAAT,CAAgBK,MAAhB,EAAwBC,EAAxB,EAA4B;AAC1B,MAAIC,GAAG,GAAG,EAAV;;AACC,GAAC,SAASC,IAAT,CAAeC,CAAf,EAAkBC,GAAlB,EAAuB;AACvB,QAAID,CAAC,IAAIC,GAAT,EAAc,OAAOJ,EAAE,CAAC,IAAD,EAAMC,GAAN,CAAT;AACd,QAAII,KAAK,CAACC,OAAN,CAAcP,MAAM,CAACI,CAAD,CAApB,CAAJ,EACEJ,MAAM,CAACI,CAAD,CAAN,GAAYR,SAAS,CAACY,KAAV,CAAgB,IAAhB,EACVR,MAAM,CAACI,CAAD,CAAN,CAAUK,GAAV,CAAc,UAASL,CAAT,EAAW;AACvB,aAAQA,CAAC,KAAGT,KAAK,CAACG,KAAX,GAAoBI,GAAG,CAAC,CAAD,CAAvB,GACHE,CAAC,KAAGT,KAAK,CAACI,IAAX,GACEG,GAAG,CAACA,GAAG,CAACQ,MAAJ,GAAa,CAAd,CADL,GACwBN,CAF3B;AAE8B,KAHhC,CADU,CAAZ;AAKF,QAAI,CAACJ,MAAM,CAACI,CAAD,CAAX,EAAgB,OAAOD,IAAI,CAACC,CAAC,GAAG,CAAL,EAAQC,GAAR,CAAX;AAChBL,IAAAA,MAAM,CAACI,CAAD,CAAN,CAAU,UAAUO,EAAV,EAAcC,IAAd,EAAoB;AAC5B,UAAID,EAAJ,EAAQ,OAAOV,EAAE,CAACU,EAAD,EAAKT,GAAL,CAAT;AACR,UAAIU,IAAI,KAAKC,SAAb,EAAwBX,GAAG,GAAGA,GAAG,CAACY,MAAJ,CAAWF,IAAX,CAAN;AACxBT,MAAAA,IAAI,CAACC,CAAC,GAAG,CAAL,EAAQC,GAAR,CAAJ;AACD,KAJD;AAKD,GAdA,EAcE,CAdF,EAcKL,MAAM,CAACU,MAdZ;AAcqB","sourcesContent":["module.exports = chain\r\nvar bindActor = require(\"./bind-actor.js\")\r\nchain.first = {} ; chain.last = {}\r\nfunction chain (things, cb) {\r\n  var res = []\r\n  ;(function LOOP (i, len) {\r\n    if (i >= len) return cb(null,res)\r\n    if (Array.isArray(things[i]))\r\n      things[i] = bindActor.apply(null,\r\n        things[i].map(function(i){\r\n          return (i===chain.first) ? res[0]\r\n           : (i===chain.last)\r\n             ? res[res.length - 1] : i }))\r\n    if (!things[i]) return LOOP(i + 1, len)\r\n    things[i](function (er, data) {\r\n      if (er) return cb(er, res)\r\n      if (data !== undefined) res = res.concat(data)\r\n      LOOP(i + 1, len)\r\n    })\r\n  })(0, things.length) }\r\n"]},"metadata":{},"sourceType":"script"}