{"ast":null,"code":"const url = require('url');\n\nmodule.exports = setWarning;\n\nfunction setWarning(reqOrRes, code, message, replace) {\n  //   Warning    = \"Warning\" \":\" 1#warning-value\n  // warning-value = warn-code SP warn-agent SP warn-text [SP warn-date]\n  // warn-code  = 3DIGIT\n  // warn-agent = ( host [ \":\" port ] ) | pseudonym\n  //                 ; the name or pseudonym of the server adding\n  //                 ; the Warning header, for use in debugging\n  // warn-text  = quoted-string\n  // warn-date  = <\"> HTTP-date <\">\n  // (https://tools.ietf.org/html/rfc2616#section-14.46)\n  const host = url.parse(reqOrRes.url).host;\n  const jsonMessage = JSON.stringify(message);\n  const jsonDate = JSON.stringify(new Date().toUTCString());\n  const header = replace ? 'set' : 'append';\n  reqOrRes.headers[header]('Warning', `${code} ${host} ${jsonMessage} ${jsonDate}`);\n}","map":{"version":3,"sources":["D:/node_modules/npm/node_modules/make-fetch-happen/warning.js"],"names":["url","require","module","exports","setWarning","reqOrRes","code","message","replace","host","parse","jsonMessage","JSON","stringify","jsonDate","Date","toUTCString","header","headers"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,UAAjB;;AAEA,SAASA,UAAT,CAAqBC,QAArB,EAA+BC,IAA/B,EAAqCC,OAArC,EAA8CC,OAA9C,EAAuD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAMC,IAAI,GAAGT,GAAG,CAACU,KAAJ,CAAUL,QAAQ,CAACL,GAAnB,EAAwBS,IAArC;AACA,QAAME,WAAW,GAAGC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAApB;AACA,QAAMO,QAAQ,GAAGF,IAAI,CAACC,SAAL,CAAe,IAAIE,IAAJ,GAAWC,WAAX,EAAf,CAAjB;AACA,QAAMC,MAAM,GAAGT,OAAO,GAAG,KAAH,GAAW,QAAjC;AAEAH,EAAAA,QAAQ,CAACa,OAAT,CAAiBD,MAAjB,EACE,SADF,EAEG,GAAEX,IAAK,IAAGG,IAAK,IAAGE,WAAY,IAAGG,QAAS,EAF7C;AAID","sourcesContent":["const url = require('url')\r\n\r\nmodule.exports = setWarning\r\n\r\nfunction setWarning (reqOrRes, code, message, replace) {\r\n  //   Warning    = \"Warning\" \":\" 1#warning-value\r\n  // warning-value = warn-code SP warn-agent SP warn-text [SP warn-date]\r\n  // warn-code  = 3DIGIT\r\n  // warn-agent = ( host [ \":\" port ] ) | pseudonym\r\n  //                 ; the name or pseudonym of the server adding\r\n  //                 ; the Warning header, for use in debugging\r\n  // warn-text  = quoted-string\r\n  // warn-date  = <\"> HTTP-date <\">\r\n  // (https://tools.ietf.org/html/rfc2616#section-14.46)\r\n  const host = url.parse(reqOrRes.url).host\r\n  const jsonMessage = JSON.stringify(message)\r\n  const jsonDate = JSON.stringify(new Date().toUTCString())\r\n  const header = replace ? 'set' : 'append'\r\n\r\n  reqOrRes.headers[header](\r\n    'Warning',\r\n    `${code} ${host} ${jsonMessage} ${jsonDate}`\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"script"}