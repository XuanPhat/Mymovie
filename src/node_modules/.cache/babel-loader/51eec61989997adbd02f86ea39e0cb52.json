{"ast":null,"code":"import jwt from 'jsonwebtoken';\n\nfunction isEmptyObject(obj) {\n  for (let prop in obj) {\n    //hasOwnProperty: kiem tra trong object co ton key ko ???\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return JSON.stringify(obj) === JSON.stringify({}); // return true : object rong\n}\n\nfunction saveTokenLocalStorage(token) {\n  if (token !== null && token !== '') {\n    window.localStorage.setItem('token_login', token);\n  }\n}\n\nfunction getTokenStorage() {\n  let token = window.localStorage.get('token_login');\n  return token;\n}\n\nfunction decryptToken() {\n  let encrypToken = getTokenStorage();\n  let decoded = jwt.verify(encrypToken, 'React-js2105');\n  return decoded;\n}\n\nfunction getEmailUser() {\n  const infoUser = decryptToken();\n\n  if (infoUser.hasOwnProperty('email')) {\n    return infoUser.email;\n  } else return null;\n}\n\nexport const helper = {\n  isEmptyObject,\n  saveTokenLocalStorage\n};","map":{"version":3,"sources":["D:/ReactJS/reactjsstart/my-app/src/movies/helpers/common.js"],"names":["jwt","isEmptyObject","obj","prop","hasOwnProperty","JSON","stringify","saveTokenLocalStorage","token","window","localStorage","setItem","getTokenStorage","get","decryptToken","encrypToken","decoded","verify","getEmailUser","infoUser","email","helper"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;;AAEA,SAASC,aAAT,CAAuBC,GAAvB,EAA4B;AAC3B,OAAK,IAAIC,IAAT,IAAiBD,GAAjB,EAAsB;AACrB;AACA,QAAIA,GAAG,CAACE,cAAJ,CAAmBD,IAAnB,CAAJ,EAA8B;AAC7B,aAAO,KAAP;AACA;AACD;;AAED,SAAOE,IAAI,CAACC,SAAL,CAAeJ,GAAf,MAAwBG,IAAI,CAACC,SAAL,CAAe,EAAf,CAA/B,CAR2B,CAS3B;AACA;;AACD,SAASC,qBAAT,CAA+BC,KAA/B,EAAsC;AACrC,MAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAAhC,EAAoC;AACnCC,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,EAA2CH,KAA3C;AACA;AACD;;AACD,SAASI,eAAT,GAA2B;AAC1B,MAAIJ,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBG,GAApB,CAAwB,aAAxB,CAAZ;AACA,SAAOL,KAAP;AACA;;AAED,SAASM,YAAT,GAAwB;AACvB,MAAIC,WAAW,GAAGH,eAAe,EAAjC;AACA,MAAII,OAAO,GAAGhB,GAAG,CAACiB,MAAJ,CAAWF,WAAX,EAAwB,cAAxB,CAAd;AACA,SAAOC,OAAP;AACA;;AACD,SAASE,YAAT,GAAwB;AACvB,QAAMC,QAAQ,GAAGL,YAAY,EAA7B;;AACA,MAAIK,QAAQ,CAACf,cAAT,CAAwB,OAAxB,CAAJ,EAAsC;AACrC,WAAOe,QAAQ,CAACC,KAAhB;AACA,GAFD,MAEO,OAAO,IAAP;AACP;;AAED,OAAO,MAAMC,MAAM,GAAG;AACrBpB,EAAAA,aADqB;AAErBM,EAAAA;AAFqB,CAAf","sourcesContent":["import jwt from 'jsonwebtoken';\r\n\r\nfunction isEmptyObject(obj) {\r\n\tfor (let prop in obj) {\r\n\t\t//hasOwnProperty: kiem tra trong object co ton key ko ???\r\n\t\tif (obj.hasOwnProperty(prop)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn JSON.stringify(obj) === JSON.stringify({});\r\n\t// return true : object rong\r\n}\r\nfunction saveTokenLocalStorage(token) {\r\n\tif (token !== null && token !== '') {\r\n\t\twindow.localStorage.setItem('token_login', token);\r\n\t}\r\n}\r\nfunction getTokenStorage() {\r\n\tlet token = window.localStorage.get('token_login');\r\n\treturn token;\r\n}\r\n\r\nfunction decryptToken() {\r\n\tlet encrypToken = getTokenStorage();\r\n\tlet decoded = jwt.verify(encrypToken, 'React-js2105');\r\n\treturn decoded;\r\n}\r\nfunction getEmailUser() {\r\n\tconst infoUser = decryptToken();\r\n\tif (infoUser.hasOwnProperty('email')) {\r\n\t\treturn infoUser.email;\r\n\t} else return null;\r\n}\r\n\r\nexport const helper = {\r\n\tisEmptyObject,\r\n\tsaveTokenLocalStorage\r\n};\r\n"]},"metadata":{},"sourceType":"module"}