{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactJS\\\\reactjsstart\\\\my-app\\\\src\\\\theme\\\\context\\\\ContextProvider.js\";\nimport React from 'react';\nimport ContextTheme from './ContextTheme';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst themeLight = ['--color: #2c3e50', '--background-color: #fff'];\nconst themeDark = ['--color: #fff', '--background-color: #2c3e50'];\n\nclass ContextProvider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.applyTheme = theme => {\n      // css cho toan bo trang\n      const root = document.getElementsByTagName('html')[0];\n      root.style.cssText = theme.join(';');\n    };\n\n    this.toggle = () => {\n      // css cho the body\n      const body = document.getElementsByTagName('body')[0];\n      body.style.cssText = 'transition: background .5s ease'; // cap nhat lai state\n\n      this.setState(state => ({ ...this.state,\n        dark: !state.dark\n      })); // luu gia tri state dark vao local storage\n\n      window.localStorage.setItem('darkTheme', !this.state.dark);\n    };\n\n    this.state = {\n      dark: false // nen trang va nguoc lai\n\n    };\n  } // goi no o trong componentDidMount - componentDidUpdate\n\n\n  componentDidMount() {\n    // khi ma render giao dien lan dau - mounting (can biet la dang co giao dien mau gi)\n    const lastTheme = window.localStorage.getItem('darkTheme'); // dang du lieu string ko phai boolean\n\n    if (lastTheme === 'true') {\n      // nen mau gi ??? : mau toi\n      // cap nhat lai sate\n      this.setState({ ...this.state,\n        dark: true\n      });\n    } else {\n      this.setState({ ...this.state,\n        dark: false\n      });\n    }\n  } // khi nguoi dung bam chon mau nen\n\n\n  componentDidUpdate() {\n    // khong the cap nhat state\n    // cap nhat lai thang vao giao dien\n    const theme = window.localStorage.getItem('darkTheme');\n\n    if (theme === 'true') {\n      // chon nen mau den\n      this.applyTheme(themeDark);\n    } else {\n      // chon nen mau trang\n      this.applyTheme(themeLight);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ContextTheme.Provider, {\n      value: {\n        dark: this.state.dark,\n        toggle: this.toggle\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nContextProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default ContextProvider;","map":{"version":3,"sources":["D:/ReactJS/reactjsstart/my-app/src/theme/context/ContextProvider.js"],"names":["React","ContextTheme","PropTypes","themeLight","themeDark","ContextProvider","Component","constructor","props","applyTheme","theme","root","document","getElementsByTagName","style","cssText","join","toggle","body","setState","state","dark","window","localStorage","setItem","componentDidMount","lastTheme","getItem","componentDidUpdate","render","children","propTypes","node","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,UAAU,GAAG,CAAC,kBAAD,EAAqB,0BAArB,CAAnB;AAEA,MAAMC,SAAS,GAAG,CAAC,eAAD,EAAkB,6BAAlB,CAAlB;;AAEA,MAAMC,eAAN,SAA8BL,KAAK,CAACM,SAApC,CAA8C;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAQnBC,UARmB,GAQNC,KAAK,IAAI;AACrB;AACA,YAAMC,IAAI,GAAGC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AACAF,MAAAA,IAAI,CAACG,KAAL,CAAWC,OAAX,GAAqBL,KAAK,CAACM,IAAN,CAAW,GAAX,CAArB;AACA,KAZkB;;AAAA,SAgBnBC,MAhBmB,GAgBV,MAAM;AACd;AACA,YAAMC,IAAI,GAAGN,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AACAK,MAAAA,IAAI,CAACJ,KAAL,CAAWC,OAAX,GAAqB,iCAArB,CAHc,CAKd;;AACA,WAAKI,QAAL,CAAcC,KAAK,KAAK,EAAE,GAAG,KAAKA,KAAV;AAAiBC,QAAAA,IAAI,EAAE,CAACD,KAAK,CAACC;AAA9B,OAAL,CAAnB,EANc,CAQd;;AACAC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyC,CAAC,KAAKJ,KAAL,CAAWC,IAArD;AACA,KA1BkB;;AAElB,SAAKD,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,KADM,CACA;;AADA,KAAb;AAGA,GAN4C,CAQ7C;;;AAqBAI,EAAAA,iBAAiB,GAAG;AACnB;AACA,UAAMC,SAAS,GAAGJ,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,WAA5B,CAAlB,CAFmB,CAGnB;;AACA,QAAID,SAAS,KAAK,MAAlB,EAA0B;AACzB;AACA;AACA,WAAKP,QAAL,CAAc,EAAE,GAAG,KAAKC,KAAV;AAAiBC,QAAAA,IAAI,EAAE;AAAvB,OAAd;AACA,KAJD,MAIO;AACN,WAAKF,QAAL,CAAc,EAAE,GAAG,KAAKC,KAAV;AAAiBC,QAAAA,IAAI,EAAE;AAAvB,OAAd;AACA;AACD,GAxC4C,CA0C7C;;;AACAO,EAAAA,kBAAkB,GAAG;AACpB;AACA;AACA,UAAMlB,KAAK,GAAGY,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,WAA5B,CAAd;;AACA,QAAIjB,KAAK,KAAK,MAAd,EAAsB;AACrB;AACA,WAAKD,UAAL,CAAgBL,SAAhB;AACA,KAHD,MAGO;AACN;AACA,WAAKK,UAAL,CAAgBN,UAAhB;AACA;AACD;;AAED0B,EAAAA,MAAM,GAAG;AACR,wBACC,QAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE;AAAER,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAnB;AAAyBJ,QAAAA,MAAM,EAAE,KAAKA;AAAtC,OAA9B;AAAA,gBACE,KAAKT,KAAL,CAAWsB;AADb;AAAA;AAAA;AAAA;AAAA,YADD;AAKA;;AA9D4C;;AAgE9CzB,eAAe,CAAC0B,SAAhB,GAA4B;AAC3BD,EAAAA,QAAQ,EAAE5B,SAAS,CAAC8B,IAAV,CAAeC;AADE,CAA5B;AAIA,eAAe5B,eAAf","sourcesContent":["import React from 'react';\r\nimport ContextTheme from './ContextTheme';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst themeLight = ['--color: #2c3e50', '--background-color: #fff'];\r\n\r\nconst themeDark = ['--color: #fff', '--background-color: #2c3e50'];\r\n\r\nclass ContextProvider extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdark: false // nen trang va nguoc lai\r\n\t\t};\r\n\t}\r\n\r\n\t// goi no o trong componentDidMount - componentDidUpdate\r\n\tapplyTheme = theme => {\r\n\t\t// css cho toan bo trang\r\n\t\tconst root = document.getElementsByTagName('html')[0];\r\n\t\troot.style.cssText = theme.join(';');\r\n\t};\r\n\r\n\t// viet ham de chuyen doi mau sac\r\n\t// khi nguoi dung bam chon mau sac giao dien\r\n\ttoggle = () => {\r\n\t\t// css cho the body\r\n\t\tconst body = document.getElementsByTagName('body')[0];\r\n\t\tbody.style.cssText = 'transition: background .5s ease';\r\n\r\n\t\t// cap nhat lai state\r\n\t\tthis.setState(state => ({ ...this.state, dark: !state.dark }));\r\n\r\n\t\t// luu gia tri state dark vao local storage\r\n\t\twindow.localStorage.setItem('darkTheme', !this.state.dark);\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// khi ma render giao dien lan dau - mounting (can biet la dang co giao dien mau gi)\r\n\t\tconst lastTheme = window.localStorage.getItem('darkTheme');\r\n\t\t// dang du lieu string ko phai boolean\r\n\t\tif (lastTheme === 'true') {\r\n\t\t\t// nen mau gi ??? : mau toi\r\n\t\t\t// cap nhat lai sate\r\n\t\t\tthis.setState({ ...this.state, dark: true });\r\n\t\t} else {\r\n\t\t\tthis.setState({ ...this.state, dark: false });\r\n\t\t}\r\n\t}\r\n\r\n\t// khi nguoi dung bam chon mau nen\r\n\tcomponentDidUpdate() {\r\n\t\t// khong the cap nhat state\r\n\t\t// cap nhat lai thang vao giao dien\r\n\t\tconst theme = window.localStorage.getItem('darkTheme');\r\n\t\tif (theme === 'true') {\r\n\t\t\t// chon nen mau den\r\n\t\t\tthis.applyTheme(themeDark);\r\n\t\t} else {\r\n\t\t\t// chon nen mau trang\r\n\t\t\tthis.applyTheme(themeLight);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ContextTheme.Provider value={{ dark: this.state.dark, toggle: this.toggle }}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</ContextTheme.Provider>\r\n\t\t);\r\n\t}\r\n}\r\nContextProvider.propTypes = {\r\n\tchildren: PropTypes.node.isRequired\r\n};\r\n\r\nexport default ContextProvider;\r\n"]},"metadata":{},"sourceType":"module"}