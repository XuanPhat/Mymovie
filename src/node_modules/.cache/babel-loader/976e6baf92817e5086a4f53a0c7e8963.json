{"ast":null,"code":"import jwt from 'jsonwebtoken';\nconst SERECT_KEY_TOKEN = 'reactJS-2105';\n\nfunction isEmptyObject(obj) {\n  for (let prop in obj) {\n    //hasOwnProperty: kiem tra trong object co ton key ko ???\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return JSON.stringify(obj) === JSON.stringify({}); // return true : object rong\n} // save token localStorage\n\n\nfunction saveTokenLocalStorage(token) {\n  if (token !== null && token !== '') {\n    window.localStorage.setItem('token_login', token);\n  }\n} // remove token localStorage\n\n\nfunction removeToken() {\n  window.localStorage.removeItem('token_login');\n} // get token\n\n\nfunction getTokenStorage() {\n  let token = window.localStorage.getItem('token_login');\n  return token;\n} // giai ma token\n\n\nfunction decryptToken() {\n  let encryptToken = getTokenStorage();\n  let decoded = {};\n\n  if (encryptToken !== null && encryptToken !== '') {\n    decoded = jwt.verify(encryptToken, SERECT_KEY_TOKEN);\n  }\n\n  return decoded;\n} // get email login\n\n\nfunction getEmailUser() {\n  const infoUser = decryptToken();\n\n  if (infoUser.hasOwnProperty('email')) {\n    return infoUser.email;\n  }\n\n  return null;\n}\n\nfunction getIdUser() {\n  const infoUser = decryptToken();\n\n  if (infoUser.hasOwnProperty('id')) {\n    return parseInt(infoUser.id);\n  }\n\n  return 0;\n}\n\nfunction fakeAuthLogin() {\n  let user = getEmailUser();\n  let id = getIdUser();\n\n  if (user !== null && id > 0) {\n    return true;\n  }\n\n  return false;\n}\n\nexport const helper = {\n  isEmptyObject,\n  saveTokenLocalStorage,\n  getEmailUser,\n  removeToken,\n  fakeAuthLogin\n};","map":{"version":3,"sources":["D:/ReactJS/reactjsstart/my-app/src/movies/helpers/common.js"],"names":["jwt","SERECT_KEY_TOKEN","isEmptyObject","obj","prop","hasOwnProperty","JSON","stringify","saveTokenLocalStorage","token","window","localStorage","setItem","removeToken","removeItem","getTokenStorage","getItem","decryptToken","encryptToken","decoded","verify","getEmailUser","infoUser","email","getIdUser","parseInt","id","fakeAuthLogin","user","helper"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AAEA,MAAMC,gBAAgB,GAAG,cAAzB;;AAEA,SAASC,aAAT,CAAuBC,GAAvB,EAA4B;AAC1B,OAAI,IAAIC,IAAR,IAAgBD,GAAhB,EAAqB;AACnB;AACA,QAAGA,GAAG,CAACE,cAAJ,CAAmBD,IAAnB,CAAH,EAA6B;AAC3B,aAAO,KAAP;AACD;AACF;;AAED,SAAOE,IAAI,CAACC,SAAL,CAAeJ,GAAf,MAAwBG,IAAI,CAACC,SAAL,CAAe,EAAf,CAA/B,CAR0B,CAS1B;AACD,C,CAGD;;;AACA,SAASC,qBAAT,CAA+BC,KAA/B,EAAsC;AACpC,MAAGA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAA/B,EAAkC;AAChCC,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,EAA2CH,KAA3C;AACD;AACF,C,CAED;;;AACA,SAASI,WAAT,GAAuB;AACrBH,EAAAA,MAAM,CAACC,YAAP,CAAoBG,UAApB,CAA+B,aAA/B;AACD,C,CAED;;;AACA,SAASC,eAAT,GAA2B;AACzB,MAAIN,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4B,aAA5B,CAAZ;AACA,SAAOP,KAAP;AACD,C,CAED;;;AACA,SAASQ,YAAT,GAAwB;AACtB,MAAIC,YAAY,GAAGH,eAAe,EAAlC;AACA,MAAII,OAAO,GAAG,EAAd;;AACA,MAAGD,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,EAA7C,EAAgD;AAC9CC,IAAAA,OAAO,GAAGnB,GAAG,CAACoB,MAAJ,CAAWF,YAAX,EAAyBjB,gBAAzB,CAAV;AACD;;AACD,SAAOkB,OAAP;AACD,C,CAED;;;AACA,SAASE,YAAT,GAAwB;AACtB,QAAMC,QAAQ,GAAGL,YAAY,EAA7B;;AACA,MAAGK,QAAQ,CAACjB,cAAT,CAAwB,OAAxB,CAAH,EAAoC;AAClC,WAAOiB,QAAQ,CAACC,KAAhB;AACD;;AACD,SAAO,IAAP;AACD;;AACD,SAASC,SAAT,GAAoB;AAClB,QAAMF,QAAQ,GAAGL,YAAY,EAA7B;;AACA,MAAGK,QAAQ,CAACjB,cAAT,CAAwB,IAAxB,CAAH,EAAiC;AAC/B,WAAOoB,QAAQ,CAACH,QAAQ,CAACI,EAAV,CAAf;AACD;;AACD,SAAO,CAAP;AACD;;AAED,SAASC,aAAT,GAAyB;AACvB,MAAIC,IAAI,GAAGP,YAAY,EAAvB;AACA,MAAIK,EAAE,GAAGF,SAAS,EAAlB;;AACA,MAAGI,IAAI,KAAK,IAAT,IAAiBF,EAAE,GAAG,CAAzB,EAA2B;AACzB,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAED,OAAO,MAAMG,MAAM,GAAG;AACpB3B,EAAAA,aADoB;AAEpBM,EAAAA,qBAFoB;AAGpBa,EAAAA,YAHoB;AAIpBR,EAAAA,WAJoB;AAKpBc,EAAAA;AALoB,CAAf","sourcesContent":["import jwt from 'jsonwebtoken';\n\nconst SERECT_KEY_TOKEN = 'reactJS-2105';\n\nfunction isEmptyObject(obj) {\n  for(let prop in obj) {\n    //hasOwnProperty: kiem tra trong object co ton key ko ???\n    if(obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return JSON.stringify(obj) === JSON.stringify({});\n  // return true : object rong\n}\n\n\n// save token localStorage\nfunction saveTokenLocalStorage(token) {\n  if(token !== null && token !== ''){\n    window.localStorage.setItem('token_login', token);\n  }\n}\n\n// remove token localStorage\nfunction removeToken() {\n  window.localStorage.removeItem('token_login');\n}\n\n// get token\nfunction getTokenStorage() {\n  let token = window.localStorage.getItem('token_login');\n  return token;\n}\n\n// giai ma token\nfunction decryptToken() {\n  let encryptToken = getTokenStorage();\n  let decoded = {};\n  if(encryptToken !== null && encryptToken !== ''){\n    decoded = jwt.verify(encryptToken, SERECT_KEY_TOKEN);\n  }\n  return decoded;\n}\n\n// get email login\nfunction getEmailUser() {\n  const infoUser = decryptToken();\n  if(infoUser.hasOwnProperty('email')){\n    return infoUser.email;\n  }\n  return null;\n}\nfunction getIdUser(){\n  const infoUser = decryptToken();\n  if(infoUser.hasOwnProperty('id')){\n    return parseInt(infoUser.id);\n  }\n  return 0;\n}\n\nfunction fakeAuthLogin() {\n  let user = getEmailUser();\n  let id = getIdUser();\n  if(user !== null && id > 0){\n    return true;\n  }\n  return false;\n}\n\nexport const helper = {\n  isEmptyObject,\n  saveTokenLocalStorage,\n  getEmailUser,\n  removeToken,\n  fakeAuthLogin,\n}"]},"metadata":{},"sourceType":"module"}