{"ast":null,"code":"'use strict';\n\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$');\n\nvar builtins = require('builtins');\n\nvar blacklist = ['node_modules', 'favicon.ico'];\n\nvar validate = module.exports = function (name) {\n  var warnings = [];\n  var errors = [];\n\n  if (name === null) {\n    errors.push('name cannot be null');\n    return done(warnings, errors);\n  }\n\n  if (name === undefined) {\n    errors.push('name cannot be undefined');\n    return done(warnings, errors);\n  }\n\n  if (typeof name !== 'string') {\n    errors.push('name must be a string');\n    return done(warnings, errors);\n  }\n\n  if (!name.length) {\n    errors.push('name length must be greater than zero');\n  }\n\n  if (name.match(/^\\./)) {\n    errors.push('name cannot start with a period');\n  }\n\n  if (name.match(/^_/)) {\n    errors.push('name cannot start with an underscore');\n  }\n\n  if (name.trim() !== name) {\n    errors.push('name cannot contain leading or trailing spaces');\n  } // No funny business\n\n\n  blacklist.forEach(function (blacklistedName) {\n    if (name.toLowerCase() === blacklistedName) {\n      errors.push(blacklistedName + ' is a blacklisted name');\n    }\n  }); // Generate warnings for stuff that used to be allowed\n  // core module names like http, events, util, etc\n\n  builtins.forEach(function (builtin) {\n    if (name.toLowerCase() === builtin) {\n      warnings.push(builtin + ' is a core module name');\n    }\n  }); // really-long-package-names-------------------------------such--length-----many---wow\n  // the thisisareallyreallylongpackagenameitshouldpublishdowenowhavealimittothelengthofpackagenames-poch.\n\n  if (name.length > 214) {\n    warnings.push('name can no longer contain more than 214 characters');\n  } // mIxeD CaSe nAMEs\n\n\n  if (name.toLowerCase() !== name) {\n    warnings.push('name can no longer contain capital letters');\n  }\n\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")');\n  }\n\n  if (encodeURIComponent(name) !== name) {\n    // Maybe it's a scoped package name, like @user/package\n    var nameMatch = name.match(scopedPackagePattern);\n\n    if (nameMatch) {\n      var user = nameMatch[1];\n      var pkg = nameMatch[2];\n\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\n        return done(warnings, errors);\n      }\n    }\n\n    errors.push('name can only contain URL-friendly characters');\n  }\n\n  return done(warnings, errors);\n};\n\nvalidate.scopedPackagePattern = scopedPackagePattern;\n\nvar done = function (warnings, errors) {\n  var result = {\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\n    validForOldPackages: errors.length === 0,\n    warnings: warnings,\n    errors: errors\n  };\n  if (!result.warnings.length) delete result.warnings;\n  if (!result.errors.length) delete result.errors;\n  return result;\n};","map":{"version":3,"sources":["D:/node_modules/npm/node_modules/validate-npm-package-name/index.js"],"names":["scopedPackagePattern","RegExp","builtins","require","blacklist","validate","module","exports","name","warnings","errors","push","done","undefined","length","match","trim","forEach","blacklistedName","toLowerCase","builtin","test","split","slice","encodeURIComponent","nameMatch","user","pkg","result","validForNewPackages","validForOldPackages"],"mappings":"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","sourcesContent":["'use strict'\r\n\r\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$')\r\nvar builtins = require('builtins')\r\nvar blacklist = [\r\n  'node_modules',\r\n  'favicon.ico'\r\n]\r\n\r\nvar validate = module.exports = function (name) {\r\n  var warnings = []\r\n  var errors = []\r\n\r\n  if (name === null) {\r\n    errors.push('name cannot be null')\r\n    return done(warnings, errors)\r\n  }\r\n\r\n  if (name === undefined) {\r\n    errors.push('name cannot be undefined')\r\n    return done(warnings, errors)\r\n  }\r\n\r\n  if (typeof name !== 'string') {\r\n    errors.push('name must be a string')\r\n    return done(warnings, errors)\r\n  }\r\n\r\n  if (!name.length) {\r\n    errors.push('name length must be greater than zero')\r\n  }\r\n\r\n  if (name.match(/^\\./)) {\r\n    errors.push('name cannot start with a period')\r\n  }\r\n\r\n  if (name.match(/^_/)) {\r\n    errors.push('name cannot start with an underscore')\r\n  }\r\n\r\n  if (name.trim() !== name) {\r\n    errors.push('name cannot contain leading or trailing spaces')\r\n  }\r\n\r\n  // No funny business\r\n  blacklist.forEach(function (blacklistedName) {\r\n    if (name.toLowerCase() === blacklistedName) {\r\n      errors.push(blacklistedName + ' is a blacklisted name')\r\n    }\r\n  })\r\n\r\n  // Generate warnings for stuff that used to be allowed\r\n\r\n  // core module names like http, events, util, etc\r\n  builtins.forEach(function (builtin) {\r\n    if (name.toLowerCase() === builtin) {\r\n      warnings.push(builtin + ' is a core module name')\r\n    }\r\n  })\r\n\r\n  // really-long-package-names-------------------------------such--length-----many---wow\r\n  // the thisisareallyreallylongpackagenameitshouldpublishdowenowhavealimittothelengthofpackagenames-poch.\r\n  if (name.length > 214) {\r\n    warnings.push('name can no longer contain more than 214 characters')\r\n  }\r\n\r\n  // mIxeD CaSe nAMEs\r\n  if (name.toLowerCase() !== name) {\r\n    warnings.push('name can no longer contain capital letters')\r\n  }\r\n\r\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\r\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")')\r\n  }\r\n\r\n  if (encodeURIComponent(name) !== name) {\r\n    // Maybe it's a scoped package name, like @user/package\r\n    var nameMatch = name.match(scopedPackagePattern)\r\n    if (nameMatch) {\r\n      var user = nameMatch[1]\r\n      var pkg = nameMatch[2]\r\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\r\n        return done(warnings, errors)\r\n      }\r\n    }\r\n\r\n    errors.push('name can only contain URL-friendly characters')\r\n  }\r\n\r\n  return done(warnings, errors)\r\n}\r\n\r\nvalidate.scopedPackagePattern = scopedPackagePattern\r\n\r\nvar done = function (warnings, errors) {\r\n  var result = {\r\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\r\n    validForOldPackages: errors.length === 0,\r\n    warnings: warnings,\r\n    errors: errors\r\n  }\r\n  if (!result.warnings.length) delete result.warnings\r\n  if (!result.errors.length) delete result.errors\r\n  return result\r\n}\r\n"]},"metadata":{},"sourceType":"script"}